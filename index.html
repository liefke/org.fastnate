<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Fastnate - The Offline SQL Generator</title>

<!-- Bootstrap -->
<link href="css/bootstrap/bootstrap.min.css" rel="stylesheet">

<!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
<!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->

<!-- Fastnate -->
<link href="css/fastnate/fastnate.css" rel="stylesheet">
<link rel="icon" type="image/x-icon" href="favicon.ico">

</head>
<body data-spy="scroll" data-target="#navbar">
	<nav class="navbar navbar-default navbar-fixed-top" role="navigation">
		<div class="container">
			<!-- Mobile menu button -->
			<div class="navbar-header">
				<button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar"
					aria-expanded="false" aria-controls="navbar">
					<span class="sr-only">Toggle navigation</span> <span class="icon-bar"></span> <span class="icon-bar"></span>
					<span class="icon-bar"></span>
				</button>
				<a class="navbar-brand" href="/">fastnate.org</a>
			</div>

			<!-- Menu -->
			<div id="navbar" class="navbar-collapse collapse" aria-expanded="false" style="height: 1px;">
				<ul class="nav navbar-nav">
					<li class="active"><a href="#introduction">Introduction</a></li>
					<li><a href="#documentation">Documentation</a></li>
					<li><a href="#download">Download</a></li>
					<li><a href="#versions">Versions</a></li>
					<li><a href="#license">License</a></li>
					<li><a href="#about">About</a></li>
				</ul>
				<ul class="nav navbar-nav navbar-right">
					<li><a href="https://github.com/liefke/org.fastnate">Fastnate on Github</a></li>
				</ul>
			</div>
		</div>
	</nav>
	<div class="header">
		<div class="container">
			<h1>Fastnate</h1>
			<p>The Offline SQL Generator</p>
		</div>
	</div>

	<div class="container" role="main">

		<!-- News -->
		<div id="news" class="panel panel-default">
			<div class="panel-heading">Bugfix version 1.4.1 released</div>
			<div class="panel-body">
				<p>
					<span class="glyphicon glyphicon-flag"></span> <strong>2019-09-09</strong>
				</p>
				We released Fastnate 1.4.1 as intermediate release with fixes for three reported bugs.
			</div>
		</div>

		<!-- Introduction -->
		<h2 id="introduction" class="page-header">Introduction</h2>
		<dl class="dl-horizontal introduction">
			<dt>
				<img alt="Young Nate" src="images/FastNate-1.png">
			</dt>
			<dd class="row">
				<div class="col-md-10 separate">
					<p>This is Nate.</p>
					<p>
						Nate is a software developer. (<em>I know, we've just lost half of the audience ... </em>)
					</p>
					<p>
						Nate is a Java developer. (<em>Now we've lost the other half, except ... you</em>)
					</p>
					<p>Nate likes many things. He likes programming, he likes agile software development, he likes if
						things fit together.</p>
				</div>
			</dd>
			<dt>
				<img alt="Cool Nate" src="images/FastNate-2.png">
			</dt>
			<dd class="row">
				<div class="col-md-10 separate">
					<p>Nate has worked in many software projects that make use of a database.</p>
					<p>
						So he learned to know <a
							href="http://www.oracle.com/technetwork/java/javaee/tech/persistence-jsp-140049.html"
							title="Java Persistence API">JPA</a> to map his objects to a relational database. He learned that if he
						refactors one of his entity classes, he doesn't have to think about the generated SQL, as JPA will do that
						for him. He has learned that JPA is fast for read operations on the database. And he has learned that JPA
						is fast enough for atomic write operations.
					</p>
					<p>And now Nate is a cool Java developer.</p>
				</div>
			</dd>
			<dt>
				<img alt="Unhappy Nate" src="images/FastNate-3.png">
			</dt>
			<dd class="row">
				<div class="col-md-10 separate">
					<p>What Nate is missing in JPA is a strategy for importing initial data or test data into either the
						development or the production database.</p>
					<p>If the customer has an existing database which hasn't to be changed for the tasks that Nate is
						working on, everything is fine.</p>
					<p>But if either he starts with an empty database, or if the existing database has to be changed, or if
						he has no access to that database, than he needs some way to fill the data into his database.
						Unfortunately this situation is the case for the majority of his projects.</p>
					<p>Nate found out that he has two options:</p>
					<ol>
						<li><p>He could use JPA to create and fill his database on the fly.</p>
							<p>The biggest problem with that is, that JPA is slow for write operations, as in most cases it needs
								some additional read statements before or after the update, it needs to update resp. flush its caches
								and it has a complex transaction management. During the lifetime of an application this is not really a
								problem, but during setup of a database this can take some time. And if he (or one of his teammates)
								changes the content or layout of the database, he has to do it again and again.</p>
							<p>And eventually it may block refactorings or enhancements, because nobody likes to wait.</p></li>
						<li><p>
								As another option he could write all the necessary SQL <em>insert</em> and <em>update</em> statements by
								hand and import these statements through one of the SQL interfaces.
							</p>
							<p>This option is much faster than the JPA alternative, but has some other disadvantages. First of
								all he needs to know SQL. Although it is advisable to understand SQL for working with JPA, it is not
								really necessary. Furthermore he has to know the exact design as created by his JPA library. And the
								written SQL would be specific for that JPA library and, more important, for his current database. If
								Nate switches to another database type or version he has to change the SQL. If he uses a different
								database type during development and testing (e.g. H2 and Oracle), he would have to maintain two
								slightly different SQL statement sets.</p>
							<p>And finally it would block refactorings as well, because if he changes one of his entity classes
								he needs to change the SQL as well.</p></li>
					</ol>
					<p>Nate has tried both options, even at the same time. And in every new project he has the feeling that
						there has to be a third option.</p>
				</div>
			</dd>
			<dt>
				<img alt="Fast Nate" src="images/FastNate-4.png">
			</dt>
			<dd class="row">
				<div class="col-md-10 separate">
					<p>
						So Nate thought, and he thought, and finally he got <em>the idea</em>.
					</p>
					<p>If he uses the JPA entities to generate the SQL statements ... that would be fast, that would be
						database independent, he could refactor as he like, he wouldn't have to think about SQL, ...</p>
					<p>But he couldn't use any of the existing JPA libraries, as these were not designed to create an
						offline SQL script.</p>
					<p>So Nate decided to write his own library on top of JPA. It should not replace any existing JPA
						library, it was meant as an add-on.</p>
					<p>And finally Nate managed it. And now he is ... the Fast Nate.</p>
				</div>
			</dd>
			<dt></dt>
			<dd class="row">
				<div class="col-md-10 separate">
					<div class="panel panel-default">
						<div class="panel-heading">Comparison of available options</div>
						<div class="panel-body">
							<p>A short summary of the pros and cons of every available option for generating data.</p>
						</div>
						<table class="table">
							<thead>
								<tr>
									<th>Feature</th>
									<th>JPA</th>
									<th>SQL</th>
									<th>Fastnate</th>
								</tr>
							</thead>
							<tbody>
								<tr>
									<td>Independent of database dialect</td>
									<td><span class="glyphicon text-success glyphicon-ok"></span><span class="sr-only">yes</span></td>
									<td><span class="glyphicon text-danger glyphicon-remove"></span><span class="sr-only">no</span></td>
									<td><span class="glyphicon text-success glyphicon-ok"></span><span class="sr-only">yes</span></td>
								</tr>
								<tr>
									<td>Easy refactoring of entity classes</td>
									<td><span class="glyphicon text-success glyphicon-ok"></span><span class="sr-only">yes</span></td>
									<td><span class="glyphicon text-danger glyphicon-remove"></span><span class="sr-only">no</span></td>
									<td><span class="glyphicon text-success glyphicon-ok"></span><span class="sr-only">yes</span></td>
								</tr>
								<tr>
									<td>Generate offline, apply later</td>
									<td><span class="glyphicon text-danger glyphicon-remove"></span><span class="sr-only">no</span></td>
									<td><span class="glyphicon text-success glyphicon-ok"></span><span class="sr-only">yes</span></td>
									<td><span class="glyphicon text-success glyphicon-ok"></span><span class="sr-only">yes</span></td>
								</tr>
								<tr>
									<td>Fast import</td>
									<td><span class="glyphicon text-danger glyphicon-remove"></span><span class="sr-only">no</span></td>
									<td><span class="glyphicon text-success glyphicon-ok"></span><span class="sr-only">yes</span></td>
									<td><span class="glyphicon text-success glyphicon-ok"></span><span
										class="glyphicon text-success glyphicon-ok"></span><span class="sr-only">yes</span>*</td>
								</tr>
							</tbody>
						</table>
						<div class="panel-footer">* Fasnate tries to generate the best SQL for the target database, which is
							usually faster than "handcrafted" SQL.</div>
					</div>
				</div>
			</dd>
			<dt></dt>
			<dd class="row">
				<div class="col-md-10">
					<div class="panel panel-default">
						<div class="panel-heading">A comparison chart of the performance of Hibernate and Fastnate</div>
						<div class="panel-body">
							<img src="https://github.com/liefke/org.fastnate/wiki/performance.png" alt="comparison chart">
						</div>
						<div class="panel-footer">
							You can find more about the measurement of the performance <a
								href="https://github.com/liefke/org.fastnate/wiki/Performance">here</a>
						</div>
					</div>
				</div>
			</dd>
		</dl>

		<!-- Documentation -->
		<h2 id="documentation" class="page-header">Documentation</h2>
		<p>
			The documentation and examples of Fastnate are maintained in the <a
				href="https://github.com/liefke/org.fastnate/wiki">Fastnate Wiki</a>.
		</p>
		<p>Some Wiki shortcuts:</p>
		<ul class="list-group">
			<li class="list-group-item"><a href="https://github.com/liefke/org.fastnate/wiki/FirstSteps">First
					steps</a></li>
			<li class="list-group-item"><a href="https://github.com/liefke/org.fastnate/wiki/HOWTO">How-Tos</a>:<ul>
					<li><a href="https://github.com/liefke/org.fastnate/wiki/HOWTO#how-to-import-data-with-a-dataprovider">How to import data with a DataProvider</a></li>
					<li><a href="https://github.com/liefke/org.fastnate/wiki/HOWTO#how-to-import-data-from-csv-files">How to import data from CSV files</a></li>
				</ul></li>
			<li class="list-group-item"><a href="https://github.com/liefke/org.fastnate/wiki/FAQ">FAQ</a>:<ul>
					<li><a href="https://github.com/liefke/org.fastnate/wiki/FAQ#what-types-of-databases-are-supported">What types of databases are supported?</a></li>
					<li><a href="https://github.com/liefke/org.fastnate/wiki/FAQ#which-jpa-implementations-are-supported">Which JPA implementations are supported?</a></li>
					<li><a href="https://github.com/liefke/org.fastnate/wiki/FAQ#which-jpa-features-are-supported">Which JPA features are supported?</a></li>
					<li><a href="https://github.com/liefke/org.fastnate/wiki/FAQ#which-validators-are-applied-during-creation-of-sql">Which validators are applied during creation of SQL?</a></li>
					<li><a href="https://github.com/liefke/org.fastnate/wiki/FAQ#are-mapping-files-supported">Are mapping files supported?</a></li>
					<li><a href="https://github.com/liefke/org.fastnate/wiki/FAQ#why-didnt-the-import-data-task-rewrite-my-sql-file-ive-changed-something-relevant">Why didn't the import-data task rewrite my SQL file, I've changed something relevant?</a></li>
					<li><a href="https://github.com/liefke/org.fastnate/wiki/FAQ#im-missing-a-feature-in-fastnate-what-can-i-do-about-it">I'm missing a feature in Fastnate. What can I do about it?</a></li>
				</ul></li>
		</ul>

		<p>
			The latest generated API documentation can be found <a href="http://api.fastnate.org/latest">in the API
				section</a>.
		</p>
		<p>Some API shortcuts:</p>
		<ul class="list-group">
			<li class="list-group-item"><a href="http://api.fastnate.org/latest/fastnate-data/apidocs">Latest
					JavaDoc for <em>fastnate-data</em>
			</a></li>
			<li class="list-group-item"><a href="http://api.fastnate.org/latest/fastnate-generator/apidocs">Latest
					JavaDoc for <em>fastnate-generator</em>
			</a></li>
			<li class="list-group-item"><a
				href="http://api.fastnate.org/latest/fastnate-maven-plugin/import-data-mojo.html">Description of the
					Maven goal <em>import-data</em>
			</a></li>
		</ul>

		<p>Finally a small appetizer of how to use the Fastnate Data library:</p>
		<div class="highlight">
			<pre>public class TestData extends AbstractDataProvider {

    /** A list that contains all the created data. */
    @Getter
    private final List&lt;ExampleEntity&gt; entities = new ArrayList&lt;&gt;();

    /** Create the entities. */
    public void buildEntities() throws IOException {
        this.entities.add(new ExampleEntity("Example Entity"));
        
        ExampleEntity entity2 = new ExampleEntity("Example Entity 2");
        entity2.getChildren().add(new ExampleEntity("Child"));
        this.entities.add(entity2);
    }

}</pre>
		</div>
		<p>
			See the <a href="#download">download section</a> for a description how you can add the Fastnate library to
			your build path.
		</p>

		<p>You can generate the SQL for your entities either during build time or during application startup with
			one of the following options:</p>

		<!-- Integration -->
		<dl class="download">
			<dt>Use the Maven build task</dt>
			<dd>
				<p>You can use the importData task to generate an offline SQL file during build time:</p>
				<div class="highlight">
					<pre>&lt;build>
	&lt;plugins>
		&lt;plugin>
			&lt;groupId>org.fastnate&lt;/groupId>
			&lt;artifactId>fastnate-maven-plugin&lt;/artifactId>
			&lt;version>1.4.1&lt;/version>
			&lt;executions>
				&lt;execution>
					&lt;goals>
						&lt;goal>import-data&lt;/goal>
					&lt;/goals>
					&lt;configuration>
						&lt;packages>...my data provider package...&lt;/packages>
					&lt;/configuration>
				&lt;/execution>
			&lt;/executions>
		&lt;/plugin>
	&lt;/plugins>
&lt;/build></pre>
				</div>
			</dd>
			<dt>Command line</dt>
			<dd>
				<p>You can generate the SQL file from the command line:</p>
				<div class="highlight">
					<pre>java -cp ...;fastnate-data.jar;fastnate-generator.jar -Dfastnate.data.provider.packages=...my data provider package... org.fastnate.data.EntityImporter [SQL file]</pre>
				</div>
				<p>If you don't specify any SQL file, the default is used: <em>data.sql</em></p>
			</dd>
			<dt>Application startup</dt>
			<dd>
				<p>
					You can import your data on application startup, for example directly after a clean database is created by
					Hibernate. For that you need to define a <em>SessionFactoryObserver</em>:
				</p>
				<div class="highlight">
					<pre>public class DatabaseStartupImport implements SessionFactoryObserver {

	public void sessionFactoryCreated(final SessionFactory factory) {
		// Only import, if we have just created an empty database:
		final SchemaAutoTooling autoTooling = factory.getSessionFactoryOptions().getSchemaAutoTooling();
		if (autoTooling == SchemaAutoTooling.CREATE || autoTooling == SchemaAutoTooling.CREATE_DROP) {
			// Find a connection:
			final SessionFactoryImplementor sessionFactoryImplementor = (SessionFactoryImplementor) factory;
			try (Connection connection = sessionFactoryImplementor.getServiceRegistry()
					.getService(ConnectionProvider.class).getConnection()) {
				// Import data
				final Properties settings = new Properties();
				settings.setProperty(EntityImporter.PACKAGES_KEY, "... my data provider package ...");
				new EntityImporter(settings).importData(connection);
			} catch (final SQLException | IOException e) {
				throw new IllegalStateException("Could not import SQL data: " + e, e);
			}
		}
	}
}</pre>
				</div>
				<p>
					To tell Hibernate to use that observer you need to define a <em>hibernate.ejb.session_factory_observer</em>
					in your persistence.xml:
				</p>
				<div class="highlight">
					<pre>&lt;persistence ...>
	&lt;persistence-unit ...>
		&lt;properties>
			&lt;property name="hibernate.ejb.session_factory_observer" value="...mypackage...DatabaseStartupImport" />
			
			&lt;!-- Tell Hibernate to recreate the schema on every startup. You can define that as a system property, too: -->
			&lt;property name="hibernate.hbm2ddl.auto" value="CREATE" />
			
		&lt;/properties>
	&lt;/persistence-unit>
&lt;/persistence></pre>
				</div>
			</dd>
		</dl>

		<!-- Download -->
		<h2 id="download" class="page-header">Download Fastnate</h2>
		<p>
			You can obtain Fastnate in different flavours. For an overview of available versions see <a href="#versions">below</a>.
		</p>
		<dl class="download">
			<dt>
				Include Fastnate as <em>Maven</em> dependency
			</dt>
			<dd>
				Fastnate is included in the <a href="http://mvnrepository.com/">central Maven repository</a>. Just add it to
				your pom.xml:
				<div class="highlight">
					<pre>&lt;dependencies>
	&lt;!-- Use the DataProvider -->
	&lt;dependency>
		&lt;groupId>org.fastnate&lt;/groupId>
		&lt;artifactId>fastnate-data&lt;/artifactId>
		&lt;version>1.4.1&lt;/version>
	&lt;/dependency>
	&lt;!-- Or use the generator itself -->
	&lt;dependency>
		&lt;groupId>org.fastnate&lt;/groupId>
		&lt;artifactId>fastnate-generator&lt;/artifactId>
		&lt;version>1.4.1&lt;/version>
	&lt;/dependency>
&lt;/dependencies></pre>
				</div>
			</dd>
			<dt>Standalone</dt>
			<dd>
				If you want to use Fastnate as standalone library, you need to download it from our <a
					href="https://download.fastnate.org/repository/">binary repository</a>:
				<ul>
					<li><a
						href="https://download.fastnate.org/repository/org/fastnate/fastnate-generator/1.4.1/fastnate-generator-1.4.1.jar">fastnate-generator-1.4.1.jar</a>
						<a
						href="https://download.fastnate.org/repository/org/fastnate/fastnate-generator/1.4.1/fastnate-generator-1.4.1.jar.sha1">(SHA-1)</a>
						<a
						href="https://download.fastnate.org/repository/org/fastnate/fastnate-generator/1.4.1/fastnate-generator-1.4.1.jar.md5">(MD5)</a>
					</li>
					<li><a
						href="https://download.fastnate.org/repository/org/fastnate/fastnate-data/1.4.1/fastnate-data-1.4.1.jar">fastnate-data-1.4.1.jar</a>
						<a
						href="https://download.fastnate.org/repository/org/fastnate/fastnate-data/1.4.1/fastnate-data-1.4.1.jar.sha1">(SHA-1)</a>
						<a
						href="https://download.fastnate.org/repository/org/fastnate/fastnate-data/1.4.1/fastnate-data-1.4.1.jar.md5">(MD5)</a>
					</li>
				</ul>
			</dd>
			<dt>Snapshot builds</dt>
			<dd>
				To use the latest development snapshots as dependency you need to add our binary repository to your
				<code>settings.xml</code>
				or
				<code>pom.xml</code>
				:
				<div class="highlight">
					<pre>&lt;repositories>
	&lt;repository>
		&lt;id>fastnate.org&lt;/id>
		&lt;url>https://download.fastnate.org/repository&lt;/url>
		&lt;snapshots>
			&lt;enabled>true&lt;/enabled>
		&lt;/snapshots>
	&lt;/repository>
&lt;/repositories></pre>
				</div>
				After that you can switch to version <em>1.5.0-SNAPSHOT</em> in your dependency declaration.
			</dd>
			<dt>Latest sources</dt>
			<dd>
				The sources are available in GitHub:
				<ul>
					<li><a href="https://github.com/liefke/org.fastnate/archive/master.zip">org.fastnate-master-src.zip</a></li>
					<li><a href="https://github.com/liefke/org.fastnate/tarball/master">org.fastnate-master-src.tar.gz</a></li>
				</ul>
				You can browse or clone the source here:
				<ul>
					<li><a href="https://github.com/liefke/org.fastnate">https://github.com/liefke/org.fastnate</a></li>
				</ul>
			</dd>
		</dl>

		<!-- About -->
		<h2 id="versions" class="page-header">Versions of Fastnate</h2>

		<h3>Stable versions</h3>
		<dl class="download">
			<dt>1.0.0-RC1</dt>
			<dd>Support for Java 7 and JBoss AS 7.x / Hibernate 4</dd>
			<dt>1.1.0</dt>
			<dd>Support for Java 8 and WildFly 10 / Hibernate 5</dd>
			<dt>1.2.0</dt>
			<dd>Better support for different generator types and for MySQL</dd>
			<dt>1.3.0</dt>
			<dd>Support for Microsoft SQL server and for writing statements to a database</dd>
			<dt>1.4.0</dt>
			<dd>Improved performance and JPA compatibility and support to write PostgreSQL bulk files</dd>
			<dt>1.4.1</dt>
			<dd>Bugfix release</dd>
		</dl>

		<h3>Changelog</h3>
		<p>
			The changelog is maintained in the repository in the file <a
				href="https://github.com/liefke/org.fastnate/blob/master/changelog.md">changelog.md</a>.
		</p>

		<h3>Road map</h3>
		<p>
			An overview of upcoming versions can be found in our <a
				href="https://github.com/liefke/org.fastnate/milestones">issue tracker</a>.
		</p>

		<!-- License -->
		<h2 id="license" class="page-header">Fastnate License</h2>
		<div class="row">
			<div class="col-md-10">
				<p>Fastnate is licensed under the Apache License, Version 2.0 (the "License"), you may not use it except
					in compliance with the License. You may obtain a copy of the License at</p>
				<p>
					<a href="http://www.apache.org/licenses/LICENSE-2.0" target="_BLANK">http://www.apache.org/licenses/LICENSE-2.0</a>
				</p>
			</div>
		</div>

		<!-- About -->
		<h2 id="about" class="page-header">About Fastnate</h2>
		<p>
			Fastnate was initially created for the <em>eGovernment Application Framework</em> at <a
				href="http://www.init.de/">]init[ AG</a>.
		</p>
		<p>In 2014 the ]init[ AG gave their pemission to publish Fastnate as standalone library under an
			OpenSource license.</p>
		<p>
			Fastnate is now maintained by <a href="https://github.com/liefke/">Tobias Liefke</a>.
		</p>
		<p>Contributors:
		<ul>
			<li>Andreas Penski</li>
			<li>Heiko Schefter</li>
			<li>Andr√© Babinski</li>
			<li>Mathieu Lavigne</li>
		</ul>
		<p>
			If you would like to contribute to Fastnate, you can create a <a
				href="https://help.github.com/articles/creating-a-pull-request/" target="_BLANK">pull request</a>.
		</p>
		<p>
			Or you create a new issue in the <a href="https://github.com/liefke/org.fastnate/issues" target="_BLANK">Fastnate
				bug tracking system</a> and add your patch to it.
		</p>
		<footer>
			<hr />
			<p class="row">
				<span class="col-sm-6">fastnate.org</span> <span class="col-sm-6 text-right">Designed with <a
					href="https://getbootstrap.com">Bootstrap</a></span>
			</p>
		</footer>
	</div>

	<!-- Placed at the end, that the pages load faster -->
	<script src="js/jquery/jquery-1.11.1.min.js"></script>
	<script src="js/bootstrap/bootstrap.min.js"></script>
</body>
</html>